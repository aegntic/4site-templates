<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimensional Dashboard - Real-time Data Visualization</title>
    <link rel="stylesheet" href="css/dimensional.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="40" height="40" viewBox="0 0 40 40">
                        <g class="logo-cube">
                            <rect x="5" y="5" width="15" height="15" fill="none" stroke="#6366f1" stroke-width="2"/>
                            <rect x="20" y="20" width="15" height="15" fill="none" stroke="#8b5cf6" stroke-width="2"/>
                            <line x1="5" y1="5" x2="20" y2="20" stroke="#a78bfa" stroke-width="2"/>
                            <line x1="20" y1="5" x2="35" y2="20" stroke="#a78bfa" stroke-width="2"/>
                            <line x1="5" y1="20" x2="20" y2="35" stroke="#a78bfa" stroke-width="2"/>
                            <line x1="20" y1="20" x2="35" y2="35" stroke="#a78bfa" stroke-width="2"/>
                        </g>
                    </svg>
                    <span>Dimensional</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#overview" class="nav-item active">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Overview</span>
                </a>
                <a href="#analytics" class="nav-item">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-text">Analytics</span>
                </a>
                <a href="#realtime" class="nav-item">
                    <span class="nav-icon">‚ö°</span>
                    <span class="nav-text">Real-time</span>
                </a>
                <a href="#reports" class="nav-item">
                    <span class="nav-icon">üìë</span>
                    <span class="nav-text">Reports</span>
                </a>
                <a href="#settings" class="nav-item">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-text">Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">AD</div>
                    <div class="user-info">
                        <div class="user-name">Admin User</div>
                        <div class="user-role">Administrator</div>
                    </div>
                </div>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="top-bar-left">
                    <h1>Dashboard Overview</h1>
                    <div class="breadcrumb">
                        Home / Dashboard / Overview
                    </div>
                </div>
                <div class="top-bar-right">
                    <div class="date-picker">
                        <span class="date-icon">üìÖ</span>
                        <span id="date-range">Last 7 days</span>
                    </div>
                    <button class="btn-refresh" id="refresh-data">
                        <span class="refresh-icon">üîÑ</span>
                        Refresh
                    </button>
                    <div class="notifications">
                        <span class="notification-icon">üîî</span>
                        <span class="notification-badge">3</span>
                    </div>
                </div>
            </header>
            
            <!-- KPI Cards -->
            <section class="kpi-section">
                <div class="kpi-card" data-metric="revenue">
                    <div class="kpi-header">
                        <span class="kpi-title">Total Revenue</span>
                        <span class="kpi-trend positive">‚Üë 12.5%</span>
                    </div>
                    <div class="kpi-value">$<span id="revenue-value">0</span></div>
                    <div class="kpi-chart" id="revenue-spark"></div>
                </div>
                
                <div class="kpi-card" data-metric="users">
                    <div class="kpi-header">
                        <span class="kpi-title">Active Users</span>
                        <span class="kpi-trend positive">‚Üë 8.3%</span>
                    </div>
                    <div class="kpi-value"><span id="users-value">0</span></div>
                    <div class="kpi-chart" id="users-spark"></div>
                </div>
                
                <div class="kpi-card" data-metric="conversion">
                    <div class="kpi-header">
                        <span class="kpi-title">Conversion Rate</span>
                        <span class="kpi-trend negative">‚Üì 2.1%</span>
                    </div>
                    <div class="kpi-value"><span id="conversion-value">0</span>%</div>
                    <div class="kpi-chart" id="conversion-spark"></div>
                </div>
                
                <div class="kpi-card" data-metric="performance">
                    <div class="kpi-header">
                        <span class="kpi-title">Performance Score</span>
                        <span class="kpi-trend positive">‚Üë 5.7%</span>
                    </div>
                    <div class="kpi-value"><span id="performance-value">0</span></div>
                    <div class="kpi-chart" id="performance-spark"></div>
                </div>
            </section>
            
            <!-- Chart Section -->
            <section class="charts-section">
                <!-- Line Chart -->
                <div class="chart-container large">
                    <div class="chart-header">
                        <h3>Revenue Trends</h3>
                        <div class="chart-controls">
                            <button class="chart-btn active" data-period="week">Week</button>
                            <button class="chart-btn" data-period="month">Month</button>
                            <button class="chart-btn" data-period="year">Year</button>
                        </div>
                    </div>
                    <div class="chart-body">
                        <svg id="line-chart" class="d3-chart"></svg>
                    </div>
                </div>
                
                <!-- Bar Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Product Performance</h3>
                        <button class="chart-option">‚ãÆ</button>
                    </div>
                    <div class="chart-body">
                        <svg id="bar-chart" class="d3-chart"></svg>
                    </div>
                </div>
                
                <!-- Pie Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Traffic Sources</h3>
                        <button class="chart-option">‚ãÆ</button>
                    </div>
                    <div class="chart-body">
                        <svg id="pie-chart" class="d3-chart"></svg>
                    </div>
                </div>
                
                <!-- Heatmap -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Activity Heatmap</h3>
                        <button class="chart-option">‚ãÆ</button>
                    </div>
                    <div class="chart-body">
                        <svg id="heatmap-chart" class="d3-chart"></svg>
                    </div>
                </div>
                
                <!-- Scatter Plot -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Correlation Analysis</h3>
                        <button class="chart-option">‚ãÆ</button>
                    </div>
                    <div class="chart-body">
                        <svg id="scatter-chart" class="d3-chart"></svg>
                    </div>
                </div>
            </section>
            
            <!-- Real-time Section -->
            <section class="realtime-section">
                <div class="realtime-container">
                    <div class="realtime-header">
                        <h3>Real-time Activity</h3>
                        <div class="realtime-status">
                            <span class="status-dot active"></span>
                            <span>Live</span>
                        </div>
                    </div>
                    <div class="realtime-body">
                        <div id="realtime-chart"></div>
                        <div class="realtime-stats">
                            <div class="stat-item">
                                <span class="stat-label">Current Users</span>
                                <span class="stat-value" id="current-users">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Requests/sec</span>
                                <span class="stat-value" id="requests-sec">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Avg Response</span>
                                <span class="stat-value" id="avg-response">0ms</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="activity-feed">
                    <div class="feed-header">
                        <h3>Activity Feed</h3>
                        <button class="feed-filter">Filter</button>
                    </div>
                    <div class="feed-body" id="activity-feed">
                        <!-- Activity items will be dynamically added here -->
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Scripts -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/d3-charts.js"></script>
    <script src="js/realtime-updates.js"></script>
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Animate KPI values
            animateValue('revenue-value', 0, 124567, 2000, true);
            animateValue('users-value', 0, 8943, 2000);
            animateValue('conversion-value', 0, 3.7, 2000);
            animateValue('performance-value', 0, 94, 2000);
            
            // Initialize charts
            initializeCharts();
            
            // Start real-time updates
            startRealtimeUpdates();
            
            // Navigation interactions
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Chart period buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const period = this.dataset.period;
                    document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    updateLineChart(period);
                });
            });
            
            // Refresh button
            document.getElementById('refresh-data').addEventListener('click', function() {
                this.classList.add('rotating');
                setTimeout(() => {
                    this.classList.remove('rotating');
                    refreshDashboard();
                }, 1000);
            });
        });
        
        // Animate counter
        function animateValue(id, start, end, duration, currency = false) {
            const element = document.getElementById(id);
            const range = end - start;
            const increment = range / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= end) {
                    current = end;
                    clearInterval(timer);
                }
                
                if (currency) {
                    element.textContent = current.toLocaleString('en-US', { 
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0 
                    });
                } else if (end < 10) {
                    element.textContent = current.toFixed(1);
                } else {
                    element.textContent = Math.floor(current).toLocaleString();
                }
            }, 16);
        }
        
        // Refresh dashboard data
        function refreshDashboard() {
            // Simulate data refresh
            console.log('Refreshing dashboard data...');
            
            // Update KPI values with animation
            animateValue('revenue-value', 124567, 128943, 1000, true);
            animateValue('users-value', 8943, 9234, 1000);
            animateValue('conversion-value', 3.7, 3.9, 1000);
            animateValue('performance-value', 94, 96, 1000);
            
            // Refresh charts
            updateAllCharts();
        }
    </script>
</body>
</html>